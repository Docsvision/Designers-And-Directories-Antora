= Операции редактирования

[#add]
== Добавить операцию редактирования

Для каждого состояния существует набор доступных операций редактирования.

По умолчанию все операции отключены, то есть для только что созданного состояния нет разрешённых действий по редактированию карточки. Чтобы включить операции, используйте кнопки на панели инструментов. Если в столбце _Доступность_ установлен флаг, операция доступна для выбранного состояния.

.Чтобы добавить новую операцию редактирования:
. Перейдите в область _Операции редактирования_.
. На ленте данной области нажмите на кнопку image:buttons/plus-green.png[Зелёный плюс], чтобы открыть окно _Добавление операции_.
+
.Добавление операции редактирования
image::add-edit-op.png[Добавление операции редактирования]
+
. В поле _Название_ введите название операции, которое будет отображаться в области _Операции редактирования_.
. В поле _Локализованные названия_ укажите названия данной операции на других языках.
. В поле _Описание_ укажите описание операции, которое будет отображаться в качестве подсказки при настройке xref:roles/access-matrix.adoc["Матрицы состояний"] в _Конструкторе ролей_.
+
.Отображение подсказки с текстом описания в Конструкторе ролей
image::hint-role-designer.png[Отображение подсказки с текстом описания в Конструкторе ролей]
+
. Нажмите *ОК*, чтобы добавить в список операций редактирования новую запись.
. Установите доступность для операции редактирования.
+
В _Конструкторе ролей_ в _Матрице доступа_ xref:roles/access-matrix.adoc#rights[настройка прав] для недоступных состояний будет запрещена.
+
Пользователь может указать название для операции, а также установить доступность операции для текущего состояния. Чтобы операция была доступна пользователю карточки, её нужно использовать либо для перехода между состояниями, либо для привязки к элементам управления (через _Конструктор разметок_).

[#standard]
== Стандартные операции редактирования

Для обслуживания стандартных элементов управления в карточках _Документ_ и _Задание_ реализован набор стандартных операций редактирования.

Если стандартная операция для состояния не включена (флаг не установлен), то соответствующая функция в карточке не будет отображаться. При этом, если флаг операции установлен, и функция в карточке отображается, но недоступна для выбора, следует проверить настройку доступности данной операции в _Конструкторе ролей_.

[#doc]
=== Стандартные операции карточки "Документ"

[cols="50%,50",options="header"]
|===
|Название операции редактирования |Описание операции

|Длительная блокировка основного файла
|Выполнение команды *Заблокировать для работы* для _основного_ файла карточки _Документ_.

|Добавление дополнительного файла
|Добавление _дополнительного_ файла в карточку _Документ_.

|Добавление комментария к версии основного файла
|Выполнение команды *Комментировать версию* в области _версии и комментарии_ карточки _Документ_.

|Добавление основного файла
|Добавление _основного_ файла в карточку _Документ_.

|Запись
a|Открытие карточки _Документ_ в режиме редактирования.

[NOTE]
====
Все операции, по которым происходит какое-то изменение карточки, проверяются совместно с операцией _Запись_.
====

|Изменение штрих-кода
|Выполнение команды *Изменить штрих-код* подменю кнопки *Печать штрих-кода* ленты карточки _Документ_.

|Назначение категории
|Выбор категории из _Справочника категорий_ на вкладке _Категории_ при помощи установки флага напротив нужной записи справочника.

|Отправка документа по электронной почте
|Выполнение команды *Отправить* из окна _Отправка_ карточки _Документ_.

|Переименование документа
|Выполнение команды *Переименовать* для _основного_ или _дополнительного_ файла из карточки _Документ_. Операция проверяется совместно с операцией _Изменение_. При разрешении только на чтение функция переименования будет недоступна.

|Печать документа
|Выполнение команды *Печать* из окна _Отправка_ карточки _Документ_ или окна, вызываемого из представления по команде контекстного меню _Экспорт и печать_.

|Печать штрих-кода
|Выполнение команды *Печать штрих-кода* ленты карточки _Документ_.

|Подписание документа
|Выполнение команды *Подписать* ленты карточки _Документ_, предполагающей наложение электронной подписи.

|Просмотр журнала подписей
|Выполнение команды *Журнал подписей* ленты карточки _Документ_.

|Просмотр истории
|Просмотр информации об истории действий с карточкой на вкладке _История_ карточки _Документ_.

|Редактирование основного файла
|Редактирование _основного_ файла карточки _Документ_.

|Смена текущей версии основного файла
|Выполнение команды *Сделать выбранную версию текущей* в области _версии и комментарии_ карточки _Документ_.

|Создание новой версии основного файла
|Для карточек с включённой опцией _Версионинг_ -- сохранение изменений, выполненных в _основном_ файле документа, в новую версию этого файла.

|Сохранение изменений в текущую версию основного файла
|Для карточек с отключенной опцией _Версионинг_ -- сохранение изменений, выполненных в _основном_ файле документа, в текущую версию этого файла.

|Удаление
|Удаление карточки _Документ_.

|Удаление дополнительного файла
|Удаление _дополнительного_ файла из карточки _Документ_.

|Удаление категории
|Исключение документа из категории на вкладке _Категории_ при помощи снятия флага напротив нужной записи из _Справочника категорий_.

|Удаление основного файла
|Удаление _основного_ файла из карточки _Документ_.

|Удаление старой версии основного файла
|Выполнение команды *Удалить выбранную версию* в области _версии и комментарии_ карточки _Документ_.

|Чтение
|Открытие карточки _Документ_ в режиме чтения.

|Чтение дополнительного файла
|Просмотр _дополнительного_ файла карточки _Документ_.

|Чтение основного файла
|Просмотр _основного_ файла карточки _Документ_.

|Шифрование файла
|Выполнение команды *Шифрование файлов* ленты карточки _Документ_.

|Экспорт документа
|Выполнение операции *Экспорт* из окна _Отправка_ карточки _Документ_ или окна, вызываемого из представления по команде контекстного меню _Экспорт и печать_.
|===

[#task]
=== Стандартные операции карточки "Задание"

[cols="50%,50",options="header"]
|===
|Название операции редактирования |Описание операции

|Ввод плановых сроков
|Заполнение полей области _Сроки_: _Дата начала_, *Д**_ата завершения_***, _Длительность (ч.)_, _Трудоемкость (ч.)_.

|Выбор исполнителя
|Заполнение поля _Выбор исполнителя_.

|Добавление дополнения
|Добавление ссылок с помощью команд в контекстном меню элемента управления `_Ссылки_` с типами ссылок, разрешёнными для вида как _Типы ссылок для дополнений_.

|Добавление комментария
|Выполнение команды ленты карточки *Добавить комментарий* области _Комментарии_ из открытой карточки _Задание_.

|Добавление основного документа
|Добавление карточки с типом ссылки, разрешённым для вида как _основной_ документ, в карточку _Задание_.

|Добавление отчёта
|Выполнение команды ленты карточки *Добавить файл* области _Отчёты_ из открытой карточки _Задание_, а также заполнение текстового поля _Отчёт_.

|Изменение
a|Открытие карточки _Задание_ в режиме редактирования.

[NOTE]
====
Все операции, по которым происходит какое-то изменение карточки, проверяются совместно с операцией _Изменение_.
====

|Изменение срока исполнения
|Выполнение команды ленты карточки *Изменить сроки* (перенос плановых дат начала и завершения задания, а также его длительности).

|Изменение текущего исполнителя
|Изменение значения поля _Исполнитель_, выполняемое при делегировании или смена исполнителя автором задания в уже отправленном задании.

|Изменение/Удаление любого комментария
|Выполнение команд ленты карточки *Изменить комментарий* и *Удалить комментарий* области _Комментарии_ из открытой карточки _Задание_ для комментария, добавленного любым пользователем.

|Изменение/Удаление собственного комментария
|Выполнение команд ленты карточки *Изменить комментарий* и *Удалить комментарий* области _Комментарии_ из открытой карточки _Задание_ для собственного комментария. Проверяется относительно автора комментария.

|Копирование подчиненного задания
|Копирование карточки подчиненного задания с помощью команды контекстного меню _Копировать_ элемента управления `_Дерево исполнения_`.

|Перенести результаты в родительское задание
|При вызове команды контекстного меню элемента управления `_Дерево исполнения_` выполняется копирование добавленного отчёта о завершении задания из дочернего задания в родительское. В зависимости от настроек, в родительское задание могут быть перенесены ссылки на копии приложенных в отчёт карточек или ссылки на оригинальные карточки.

|Просмотр журнала подписей
|Выполнение команды *Журнал подписей* ленты карточки _Задание_.

|Просмотр истории
|Просмотр информации об истории действий с карточкой на вкладке _Журнал_ карточки _Задание_.

|Редактирование автора
|Редактирование поля _Автор_ карточки _Задание_.

|Редактирование контролёра
|Редактирование поля _Контролёр_ карточки _Задание_.

|Редактирование напоминаний
|Редактирование полей _Напомнить за_ и _Дата напоминания_.

|Редактирование настроек завершения
|Редактирование полей из группы _Завершение задания_ (_Ввести отчёт_ и _Добавить файл отчёта_) на вкладке _Расширенные настройки_ карточки _Задание_.

|Редактирование общих настроек
|Редактирование настроек групп _Делегирование вручную_, _Учет бизнес-календаря_, _Тип маршрутизации_, _Вид подчиненного задания_ на вкладке _Настройки_ карточки _Задание_.

|Редактирование параметров контроля
|Редактирование полей _Поставить на контроль_ и _Требуется приёмка_ карточки _Задание_

|Редактирование содержания
|Редактирование поля _Содержание_ карточки _Задание_.

|Редактирование условий завершения задания
|Редактирование настроек групп _Автоматическое завершение_ и _Завершение, зависимое от связанных заданий_, на вкладке _Расширенные настройки_ карточки _Задание_.

|Редактирование фактических параметров исполнения
|Редактирование полей _Фактическая дата начала_ и _Дата завершения карточки задание_.

|Создание подчиненного задания
|Выполнение команды *Подчиненное задание* из открытой карточки _Задание_ или команды контекстного меню _Создать подчиненное задание_ элемента управления `_Дерево исполнения_`.

|Создание подчиненной группы заданий
|Выполнение команды *Подчиненная группа заданий* из открытой карточки _Задание_ или команды контекстного меню _Создать подчиненную группу заданий_ элемента управления `_Дерево исполнения_`.

|Удаление
|Удаление карточки _Задание_.

|Удаление подчиненной группы заданий
|Выполнение команды _Удалить_ для ранее добавленной подчиненной группы заданий в контекстном меню элемента управления `_Дерево исполнения_`.

|Удаление дополнения
|Удаление ссылок с помощью команды контекстного меню элемента управления `_Ссылки_` с типами ссылок, разрешёнными для вида как _Типы ссылок для дополнений_.

|Удаление основного документа
|Удаление файла или карточки _основного_ документа из карточки _Задание_.

|Удаление отчёта
|Выполнение команды ленты карточки *Удалить отчёты* области _Отчёты_ из открытой карточки _Задание_.

|Удаление подчиненного задания
|Выполнение команды _Удалить_ для ранее добавленного подчиненного задания в контекстном меню элемента управления `_Дерево исполнения_`.

|Установить важность
|Редактирование поля _Важность_ карточки _Задание_.

|Чтение
|Открытие карточки _Задание_ в режиме чтения.
|===

[#task-group]
=== Стандартные операции карточки "Группа заданий"

[cols="50%,50",options="header"]
|===
|Название операции редактирования |Описание операции

|Ввод плановых сроков
|Заполнение полей области _Сроки_: _Дата начала_, _Дата завершения_, _Длительность (ч.)_, _Трудоемкость (ч.)_ карточки _Группа заданий_.

|Выбор исполнителя
|Заполнение поля _Выбор исполнителя_ карточки _Группа заданий_.

|Изменение
a|Открытие карточки _Группа заданий_ в режиме редактирования.

[NOTE]
====
Все операции, по которым происходит какое-то изменение карточки, проверяются совместно с операцией _Изменение_.
====

|Изменить дату контроля
|Редактирование поля _Дата контроля_ карточки _Группа заданий_.

|Просмотр журнала подписей
|Стандартная операция карточки _Задание_. Для карточки _Группа заданий_ не используется, так как наложения электронной подписи для группы заданий не предусмотрено.

|Просмотр истории
|Просмотр информации об истории действий с карточкой на вкладке _Журнал_ карточки _Группа заданий_.

|Редактирование автора
|Редактирование поля _Автор_ карточки _Группа заданий_.

|Редактирование документов
|Добавление и удаление документов и ссылок, приложенных к карточке _Группа заданий_.

|Редактирование содержания
|Редактирование поля _Содержание_ карточки _Группа заданий_.

|Удаление
|Удаление карточки _Группа заданий_.

|Установить важность
|Редактирование поля _Важность_ карточки _Группа заданий_.

|Установить контроль до завершения
|Редактирование поля _Контроль до завершения (ч.)_ карточки _Группа заданий_.

|Установить тип маршрутизации
|Редактирование поля _Вариант исполнения_ карточки _Группа заданий_.

|Чтение
|Открытие карточки _Группа заданий_ в режиме чтения.
|===

[#approval]
=== Стандартные операции карточки "Согласование"

[cols="50%,50",options="header"]
|===
|Название операции редактирования |Описание операции

|Добавить версию
|Создание новой версии файла документа, отправленного на согласование. Операция предназначена для выполнения _базового_ согласования.

|Изменение
a|Открытие карточки _Согласование_ в режиме редактирования.

[NOTE]
====
Все операции, по которым происходит какое-то изменение карточки, проверяются совместно с операцией _Изменение_.
====

|Кнопка добавить замечание
|Добавление комментария к версии файла документа, отправленного на согласование. Операция предназначена для выполнения _базового_ согласования.

|Кнопка редактировать
|Операция предназначена для выполнения _базового_ согласования. В настоящее время не используется.

|Кнопки редактирования маршрута
|Редактирование маршрута согласования в таблице _Маршрут_ (изменение порядка согласующих, исключение участников).

|Операции согласования
|Возможность принятия решения участником согласования. Операция предназначена для выполнения _базового_ согласования.

|Отметить версию финальной
|Выполнение команды выбора финальной версии в ходе выполнения консолидации. Операция предназначена для выполнения _базового_ согласования.

|Просмотр версии
|Предварительный просмотр версии файла согласуемого документа. Операция предназначена для выполнения _базового_ согласования.

|Просмотр журнала подписей
|Стандартная операция карточки _Согласование_.

|Просмотр истории
|Просмотр информации об истории действий с карточкой на вкладке _Журнал_ карточки _Согласование_.

|Протоколы
|Операция предназначена для выполнения _базового_ согласования. В настоящее время не используется.

|Редактирование основной информации
|Редактирование настроек согласования из группы параметров _Основная информация_ карточки согласования (кроме значения поля _Документ_). Операция предназначена для выполнения _базового_ согласования.

|Редактировать документ
|Редактирование значения карточки документа в поле _Документ_ из группы параметров _Основная информация_. Операция предназначена для выполнения _базового_ согласования.

|Сравнить версию с оригиналом
|Сравнение версий документов при выполнении консолидации. Операция предназначена для выполнения _базового_ согласования.

|УД Автоматический запуск согласования
|Запуск следующего согласования по завершении текущего средствами одноименного бизнес-процесса. Операция предназначена для выполнения _базового_ согласования.

|Удаление
|Удаление карточки _Согласование_.

|Чтение
|Открытие карточки _Согласование_ в режиме чтения.
|===
