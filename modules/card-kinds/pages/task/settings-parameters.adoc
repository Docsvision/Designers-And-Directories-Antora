= Настройка параметров задания

[#select-author]
== Выбрать автора

В создаваемой карточке _Задание_ имеется поле _Автор_. При создании карточки в это поле автоматически подставляется имя пользователя, работающего с системой. Значение данного поля может быть изменено путём выбора из _Справочника сотрудников_ другого пользователя. В этом случае задание будет отправлено от имени нового пользователя.

При необходимости возможность выбора других авторов для заданий может быть запрещена.

.Чтобы разрешить или запретить выбор авторов для задания:
. Перейдите на вкладку _Задание_.
. При необходимости снимите по умолчанию установленный флаг `*Разрешить выбор автора из справочника сотрудников*`:
+
* Установленный флаг разрешает выбор автора непосредственно из карточки задания.
* Снятый флаг запрещает выбор автора непосредственно из карточки задания.
+
.Флаг управления выбором автора в карточке "Задание"
image::allow-author-select.png[Флаг управления выбором автора в карточке "Задание"]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.

[#attached-card-mode]
== Режим открытия вложенной карточки

Вложенная в задание карточка (отображается на _панели вложений_) по умолчанию открывается в режиме чтения, а для перехода в режим редактирования пользователь должен использовать команду *Перейти в режим редактирования* на ленте карточки.

.Если необходимо, чтобы вложенная карточка сразу открывалась в режиме редактирования:
. Перейдите на вкладку _Задание_.
. Измените _Режим открытия вложений_:
+
* *Редактирование* -- приложенная к заданию карточка будет открываться в режиме редактирования.
* *Чтение* -- приложенная к заданию карточка будет по умолчанию открываться в режиме чтения.
+
.Флаг отображением вложений в карточке "Задание"
image::attachment-display.png[Флаг отображением вложений в карточке "Задание"]
+
. Установите флаг `*По умолчанию отображать вложенную карточку*`, если вложенная карточка должна сразу открываться при открытии карточки _Задание_.
+
По умолчанию для открытия приложенной к _Заданию_ карточки сотрудник должен выбрать её на _панели вложений_. Данный флаг активирует режим, при котором вложение будет видно сразу при открытии карточки _Задание_ в режиме, выбранном в настройке _Режим открытия вложений_.
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.

[#links-classification]
== Классификация ссылок

Для ссылок, добавляемых в карточку _Задание_, можно определить правило классификации. Приложенным к заданию карточкам можно присвоить статус _Основного документа_, либо _Дополнения_, либо _Отчёта_.

.Чтобы настроить способ классификации ссылок:
. Перейдите на вкладку _Задание_.
. Выберите типы ссылок для дальнейшей классификации в полях:
+
* Типы ссылок для основного документа.
* Типы ссылок для дополнений.
* Типы ссылок для отчётов.
+
.Пример настройки конфигурации ссылок
image::links-config.png[Пример настройки конфигурации ссылок]
+
. Чтобы связанные с заданием карточки вложений отображались в карточке _Задание_, установите для требуемого типа ссылок флаг `*Показывать в области вложений*`.
+
.Пример вложения карточки "Документ" в карточку "Задание"
image::task-attached-doc.png[Пример вложения карточки "Документ" в карточку "Задание"]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.

[#declined-comment]
== Комментарий при отклонении задания

Для исполнителя, который по какой-либо причине отклоняет полученное задание, можно настроить обязательный ввод комментария. В этом случае при отклонении задания, у исполнителя будет появляться окно, в которое необходимо будет ввести причину отклонения задания (отпуск, командировка и т.п.).

.Чтобы настроить запрос комментария при отклонении задания:
. Перейдите на вкладку _Задание_.
. Найдите область настроек _Отклонение задания_.
+
В заголовке области отображается подсказка _Разрешено менять в задании_, означающая, что указанные параметры можно изменять непосредственно в карточке задания.
+
. Установите нужное положение флага `*Запрашивать комментарий при отклонении задания*`:
* Установите флаг, чтобы запрашивать комментарий.
* Снимите флаг, чтобы не запрашивать комментарий.
+
.Флаг управления запросом комментария при отклонении задания
image::request-comment.png[Флаг управления запросом комментария при отклонении задания]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.
+
При выполнении отклонении задания у назначенного исполнителя задания будет появляться окно, в котором следует написать причину отказа.
+
.Результат настройки запроса комментария
image::requested-comment.png[Результат настройки запроса комментария]

[#routing-type]
== Тип маршрутизации

Пользователь, назначенный исполнителем, может получать задания различными способами. Данные способы определяются при помощи настроенного для вида карточки _Задание_ типа маршрутизации.

.Чтобы настроить тип маршрутизации для задания:
. Перейдите на вкладку _Задание_.
. Найдите область настроек _Тип маршрутизации_.
+
В заголовке области отображается подсказка _Разрешено менять в задании_, означающая, что указанные параметры можно изменять непосредственно в карточке задания.
+
. В поле _Маршрутизация_ выберите из списка доступный для задания xref:staff/employees/main-tab.adoc#routing[тип маршрутизации].
+
.Выбор способа маршрутизации задания
image::available-routing-types.png[Выбор способа маршрутизации задания]
+
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.
+
Исполнитель задания получит карточку способом, который определяется выбранным типом маршрутизации.

[#select-performer]
== Выбор исполнителя

Для выбора исполнителя в карточке _Задание_ предназначено поле _Выбор исполнителя_. Настройка данного поля выполняется для пользовательского вида карточки в _Справочнике видов карточек_.

.Чтобы настроить поле "Выбор исполнителя" карточки "Задание" пользовательского вида:
. Перейдите на вкладку _Задание_.
. Найдите область настроек _Выбор исполнителя_.
. Чтобы сделать доступным выбор любого сотрудника из _Справочника сотрудников_, установите флаг `*Исполнителем заданий этого вида может быть любой сотрудник*`.
. Чтобы сделать доступным окно для выбора сотрудника из сформированного списка сотрудников, установите флаг `*Выбрать исполнителя из списка*` и укажите элементы списка.
+
При формировании списка допускается выбор не только конкретных сотрудников, но также и подразделений, групп, ролей. Также выбор возможен по определённым <<performer-words,поисковым словам>>.
+
.Выбор поисковых слов
image::select-search-words.png[Выбор поисковых слов]
+
. Чтобы в карточке _Задание_ данного вида при выборе исполнителей отображался список из последних 10 исполнителей, установите флаг `*Показывать последних исполнителей*`.
+
.Пример отображения списка последних исполнителей в карточке
image::last-performers.png[Пример отображения списка последних исполнителей в карточке]
+
. Флаг `*Использовать бизнес-календарь*` разрешит использование настроек рабочего времени, заданных в календаре, при расчете дат начала, завершения и длительности задания.
. Нажмите на кнопку image:buttons/save.png[Сохранить] на ленте справочника.
+
В созданной карточке _Задание_ данного пользовательского вида поле _Выбор исполнителя_ можно будет использовать в соответствии с выполненными настройками.

[#performer-words]
=== Поисковые слова для исполнителя

Руководитель::
Сотрудник, который в _Справочнике Сотрудников_ указан как руководитель автора карточки _Задание_. В случае делегирования будет найден руководитель сотрудника, делегировавшего задание.

Подчиненные::
Сотрудники данного подразделения, для которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как руководитель. В случае делегирования будут найдены подчиненные сотрудника, делегировавшего задание.

Все подчиненные::
Сотрудники всех подразделений, для которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как непосредственный руководитель или является руководителем вышестоящего подразделения. В случае делегирования будут найдены подчиненные сотрудника, делегировавшего задание.

Замещаемые::
Сотрудники, для которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как заместитель. В случае делегирования будут найдены сотрудники, замещаемые по отношению к делегату задания.

Подразделения, в которых автор -- руководитель::
Все подразделения, в которых автор карточки _Задание_ в _Справочнике Сотрудников_ указан как руководитель. В случае делегирования будут найдены подразделения сотрудника, делегировавшего задание.

Сотрудники департамента автора::
Сотрудники департамента, к которому принадлежит автор карточки _Задание_. В случае делегирования будут найдены сотрудники подразделения делегата.

Заместители::
Сотрудники, указанные в качестве заместителей для автора карточки _Задание_ в _Справочнике Сотрудников_. В случае делегирования будут найдены заместители сотрудника, делегировавшего задание.
