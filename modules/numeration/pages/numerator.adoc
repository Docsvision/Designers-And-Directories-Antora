= Настроить нумератор

.Чтобы задать нумератор:
. На правой панели главного окна конструктора выделите параметр, для которого нужно настроить нумератор.
. Установите курсор в нужную ячейку столбца _Нумератор_.
. Нажмите на кнопку image:buttons/three-dots.png[Три точки] в правой части поля или нажмите на кнопку image:buttons/list.png[Список] *Показать список нумераторов* на ленте главного окна конструктора.
+
.Окно "Нумераторы"
image::numerators-window.png[Окно "Нумераторы"]
+
. Если нужный нумератор в окне _Нумераторы_ отсутствует, создайте его.
. Если нужный нумератор есть, выделите строку нужного нумератора, затем выполните любое из действий:
+
* Нажмите кнопку image:buttons/green-yes.png[Зелёная галочка].
* Дважды щелкните левой кнопкой мыши по нужной строке.
* Нажмите на клавиатуре kbd:[Enter].

[#create-num]
== Создать нумератор

.Чтобы создать нумератор:
. xref:numeration/numerator.adoc[Откройте] окно _Нумераторы_.
+
.Окно "Нумераторы"
image::numerators-window.png[Окно "Нумераторы"]
+
. Создайте новый нумератор любым из доступных способов:
+
* Нажмите на кнопку image:buttons/plus-green.png[Плюс] на ленте.
* Вызовите контекстное меню для списка нумераторов, затем выберите команду _Добавить новый нумератор_.
+
Будет создан нумератор, который сразу же откроется на редактирование.

[#edit-num]
== Изменить нумератор

[#edit]
.Чтобы изменить нумератор:
. Откройте xref:numeration/numerator.adoc[окно] _Нумераторы_.
. Выделите нумератор, который требуется изменить.
. Откройте окно _Нумератор_ любым из доступных способов:
+
* Нажмите на кнопку image:buttons/pencil-green.png[Карандаш] на ленте.
* Вызовите контекстное меню для нумератора, затем выберите команду _Редактировать нумератор_.
+
.Окно свойств нумератора
image::numerator-properties.png[Окно свойств нумератора]
+
. В поле _Имя_ измените название нумератора.
+
По умолчанию нумератор выдает документам номера с `1` по `1000`. При необходимости минимально и максимально допустимые номера можно задать в поле _Границы_.
+
. Задайте другие параметры нумератора:
* <<range,Диапазоны>>.
* <<areas,Зоны>>.

[#range]
== Настройка диапазона нумератора

Диапазоны позволяют закрепить определённые номера документов за отдельными сотрудниками.

.Чтобы настроить диапазоны:
. <<edit,Откройте>> окно _Нумератор_.
. Откройте окно _Диапазон_ любым из доступных способов:
+
* Нажмите кнопку image:buttons/plus-green.png[Плюс] *Добавить*.
* Используйте команду контекстного меню.
* Нажмите на клавиатуре kbd:[Insert].
+
.Окно "Диапазон"
image::numerator-range.png[Окно "Диапазон"]
+
. В поле _Владелец_ нажмите на кнопку image:buttons/three-dots.png[Три точки].
. Выберите владельца диапазона из _Справочника сотрудников_.
+
Номера, входящие в выбранный диапазон, будут иметь статус _Зарезервирован_. В дальнейшем, зарезервированный за сотрудником номер может быть занят только его владельцем. Когда все зарезервированные номера окажутся выбраны, документам, регистрируемым сотрудником-владельцем, будут присваиваться номера из общего списка в соответствии с основным правилом выдачи номеров.

[#areas]
== Настройка зон

Зоны создаются автоматически при выдаче первого номера из нумератора и не требуют дополнительного указания.

Название зоны зависит от периодичности обновления нумератора. Новая зона создаётся нумератором во время первой регистрации документа после истечения срока действия предыдущей зоны, следовательно, если в период между обновлениями нумераторов не был зарегистрирован ни один документ, зона не создаётся. Таким образом, некоторым временным промежуткам может не соответствовать ни одна из зон. Список зон отображается в секции _Зоны_.

Закрытие зоны с прекращением выдачи из неё номеров производится нумератором по истечении срока её действия. По умолчанию срок действия зоны не ограничен, однако, пользователь может установить правила смены зоны и возобновления выдачи с начального номера диапазона номеров.

.Чтобы настроить зоны:
. <<edit-num,Откройте>> окно _Нумератор_.
. Откройте окно _Название зоны_ любым из доступных способов:
+
* Нажмите кнопку image:buttons/plus-green.png[Плюс] *Добавить*.
* Используйте команду _Добавить новую зону_ контекстного меню.
* Нажмите на клавиатуре kbd:[Insert].
+
.Окно "Название зоны"
image::numerator-area-name.png[Окно "Название зоны"]
+
. Введите название новой зоны, нажмите *ОК*. Окно _Название зоны_ будет закрыто.
. В поле _Обновление_ окна _Нумератор_ нажмите кнопку image:buttons/three-dots.png[Три точки]. Будет открыто окно _Обновление зоны нумератора_.
. В поле _Тип обновления_ выберите вариант планируемого периода обновления: *_Не обновлять_* (по умолчанию), *_День_*, *_Неделя_*, *_Месяц_* или *_Год_*, чтобы отобразить настройки выбранного периода обновления.
+
.Окно "Зона" с типом обновления "Год"
image::numerator-area.png[Окно "Зона" с типом обновления "Год"]
+
. В поле _Интервал_ установите периодичность обновления зоны.
. В полях _День_, _Имя месяца_ определите срок обновления.
. В поле _Дата первой зоны_ установите дату, которая совпадает с датой выдачи нумератором первого номера.
. Нажмите кнопку *ОК*.

[#status]
== Настройка статусов номеров

Статус числового номера является показателем доступности номера для выдачи регистрируемым документам.

.В системе {dv} определены следующие статусы номеров:
* `Свободен` -- номера, доступные для выдачи регистрируемым документам. Эти номера не зарезервированы за отдельными пользователями в поле _Диапазоны_ и не выданы зарегистрированным ранее документам.
* `Занят` -- присваивается недоступным для выдачи номерам. Также можно вручную назначить этот статус, используя кнопки *Выделить* и *Выделить все*;
* `Зарезервирован` присваивается номерам, которые доступны для выдачи единственному конкретному пользователю.

.Чтобы определить статус отдельного номера или группы номеров:
. <<edit-num,Откройте>> окно *Нумератор*.
. Нажмите на кнопку *Статус номеров*.
+
Будет открыто окно *Статус номеров*.
+
.Окно "Статус номеров"
image::number-status.png[Окно "Статус номеров"]
+
. В полях _Начальное значение_ и _Конечное значение_ задайте значения первого и последнего числовых номеров, для которых предполагается определить статус. Для указания значений можно также воспользоваться стрелками.
+
Единовременно можно просмотреть статус не более 100 номеров.
+
. По умолчанию система определит статус номеров из указанного ранее набора, входящих во все созданные нумератором зоны. Чтобы ограничить получаемые данные какой-либо одной зоной, в поле _Зона_ нажмите в правой части поля кнопку со стрелкой и выберите название требуемой зоны из раскрывающегося списка.
. Настройте фильтр для отображения статусов. Установите необходимые флаги:
+
* `*Показать свободные*` -- отображаются не зарезервированные и не занятые номера;
* `*Показать используемые*` -- отображаются уже присвоенные документам номера;
* `*Показать зарезервированные*` -- отображаются номера, зарезервированные за каким-либо сотрудником или подразделением;
* `*Показать несуществующие*` -- отображаются номера, выходящие за границы нумератора и, следовательно, не существующие.
+
. Чтобы определить статус номеров, находящихся в указанном диапазоне данного нумератора, нажмите на кнопку *Получить статус*.
. Чтобы изменить статусы номеров, воспользуйтесь кнопками:
+
* *Выделить* -- выбранный номер изменит статус со `Свободен` на `Занят`.
* *Выделить все* -- все номера изменят статус со `Свободен` на `Занят`.
* *Освободить* -- выбранный номер изменит статус `Занят` на `Свободен`.
* *Освободить все* -- все номера изменят статус с `Занят` на `Свободен`.
+
Чтобы выделить номер в карточках системы, в разметку карточки можно добавить элемент управления xref:layouts/std-ctrl/numerator.adoc[Нумератор], в свойствах которого следует указать правило нумерации, настроенное в _Конструкторе правил нумерации_.
+
Освобождение номеров выполняется также при удалении карточки, для которой был выделен номер.

== Удалить нумератор

.Чтобы удалить нумератор:
. Откройте xref:numeration/numerator.adoc[Настройка нумератора] окно _Нумераторы_.
. Выделите нумератор, который требуется удалить.
. Выполните любое из действий:
+
* Нажмите на кнопку image:buttons/x-red.png[Красный крестик] на ленте.
* Вызовите контекстное меню для нумератора, затем выберите команду _Удалить нумератор_.
+
Будет выдано предупреждение, с которым нужно согласиться, чтобы продолжить удаление. Нумератор будет удалён.
+
После удаления нумератора, возможность получения номера по правилу, в котором использовался нумератор, будет недоступна.
