= Поиск по справочнику контрагентов

В _Справочнике контрагентов_ могут использоваться различные варианты поиска данных.

[#search-panek]
== Панель поиска в справочнике

Панель поиска доступна как при открытии справочника из папки _Справочники и конструкторы_, так и при открытии справочника "на выбор" из какого-либо поля карточки.

.Для поиска записи в "Справочнике контрагентов", открытом из папки "Справочники и конструкторы":
. Если панель поиска не видна, включите её отображение, нажав кнопку *Поиск* image:buttons/magn-glass.png[Лупа] на ленте справочника.
+
.Панель поиска
image::partners-search-panel.png[Панель поиска]
+
. Введите в текст, который требуется найти, в поле _Строка поиска_.
. В поле _Режим поиска_ выберите предпочтительный режим:
+
* *_Организация/подразделение: название_* -- поиск по полю _Название_ среди карточек организаций или подразделений.
* *_Организация/подразделение: полное название_* -- поиск по полю _Название_ среди карточек организаций и подразделений.
* *_Подразделение: название_* -- поиск по полю _Название_ среди карточек подразделений.
* *_Подразделение: полное название_* -- поиск по полю _Название_ среди карточек подразделений.
* *_Организация: название_* -- поиск по полю _Название_ среди карточек организаций.
* *_Организация: полное название_* -- поиск по полю _Название_ среди карточек организаций.
* *_ИНН организации_* -- поиск по ИНН организаций.
* *_Сотрудник_* -- поиск среди данных о сотрудниках: имя, фамилия, отчество, должность, учетная запись.
+
Поиск осуществляется по подстроке. Это означает, что в результаты поиска попадут все элементы справочника, в которых встречается искомая последовательность символов. Поиск является регистронезависимым.
+
. Чтобы в результаты поиска могли попасть записи, для которых используется режим _Не показывать при выборе_, установите флаг `*Искать записи недоступные для выбора*`.
+
Если справочник открыт на выбор, параметр `*Искать записи недоступные для выбора*` не отображается.
+
. Нажмите на кнопку *Поиск*.
+
Результаты поиска будут отображены в таблице.

.Список найденных записей также содержит контекстное меню, которое позволяет:
* _Показать организацию/подразделение_ -- данный пункт активен для записей всех разновидностей. При выборе команды открывается карточка выбранной организации и подразделения.
* _Показать в справочнике_ -- текущая запись будет отображена в основной части справочника. Это удобно при большом количестве записей, которые затруднительно найти визуально в дереве организаций и подразделений или сотрудников.
* _Показать сотрудника_ -- будет открыта карточка выбранного сотрудника.
+
Если дважды щелкнуть по найденной записи, в основной части справочника отобразится соответствующий узел иерархии (организация или подразделение).

== Панель поиска в открытом на выбор справочнике

В справочнике контрагентов, открытом "на выбор" из какого-либо поля карточки, для поиска данных могут использоваться следующие поисковые запросы:

* _Организация/подразделение: название_.
* _Организация/подразделение: полное название_.
* _Подразделение: название_.
* _Подразделение: полное название_.
* _Организация: название_.
* _Организация: полное название_.
* _ИНН организации_.
* _Сотрудник_.

Поведение справочника при использовании режимов зависит от объекта выбора -- сотрудника/подразделения/организации.

== Режимы поиска при выборе сотрудника-контрагента

По умолчанию в открытом на выбор справочнике контрагентов установлен режим поиска _Сотрудник_. В результатах поиска выводится информация о подразделении или организации контрагента, ФИО сотрудника и его должность. По двойному щелчку левой кнопкой мыши осуществляется выбор сотрудника.

Доступны также режимы Организация/Подразделение/ИНН организации. В результатах поиска отображаются найденные Организации и Подразделения без сотрудников и должностей с полным или кратким названием или ИНН, соответствующим строке поиска.

По двойному щелчку левой клавишей мыши на строке из результатов поиска или команде меню _Показать в справочнике_, фокус переходит на узел дерева выбранной организации или подразделения. В правой части окна будут отображены сотрудники-контрагенты из этого подразделения или организации.

=== Режимы поиска при выборе организации или подразделения контрагента

При выборе организации или подразделения контрагента возможны следующие варианты значений:

Только организация::
Режим поиска по умолчанию _Организация: название_.
+
--
.Дополнительно появляются режимы:
* _Подразделение: название_.
* _Подразделение: полное название_.
* _Организация/подразделение: название_.
* _Организация/подразделение: полное название_.
* _Сотрудник_.
--
+
Если поиск ведется по названию (полному или краткому) подразделения, то находятся все подразделения, соответствующие строке поиска. По двойному щелчку левой клавиши мыши по строке в результатах поиска или команде _Показать в справочнике_ фокус устанавливается на узле подразделения в дереве. Для выбора доступна только организация, а не само подразделение.
+
Если поиск ведется по названию (полному или краткому) подразделения/организации, будут найдены все организации/подразделения, соответствующие строке поиска. По двойному щелчку левой клавиши мыши по строке поиска организация выбирается сразу, а если в результате найдено подразделение, то поведение соответствует предыдущему пункту (поиск по подразделению).
+
Если поиск ведется по сотруднику, то в результатах будет показан список сотрудников (ФИО, должность и подразделение/организация). По двойному щелчку левой клавиши мыши на строке из результатов поиска выбирается организация (не подразделение), в которой записан найденный сотрудник.

Только подразделение::
Режим поиска по умолчанию _Подразделение: название_.
+
--
.Дополнительно появляются режимы:
* _Организация: название_.
* _Организация: полное название_.
* _Организация/подразделение: название_.
* _Организация/подразделение: полное название_.
* _Сотрудник_.
* _ИНН организации_.
--
+
Если поиск ведется по названию (полному или краткому) организации, будут найдены все организации, соответствующие строке поиска. По двойному щелчку левой клавиши мыши по строке в результатах поиска или команде _Показать в справочнике_ фокус устанавливается на узле организации в дереве. Однако, ввиду ограничения по выбору, для выбора доступны только подразделения, а не сама организация.
+
Если поиск ведется по названию (полному или краткому) подразделения/организации, будут найдены все организации/подразделения, соответствующие строке поиска. По двойному щелчку левой клавиши мыши по строке поиска подразделение выбирается сразу, а если в результате найдена организация, то поведение соответствует предыдущему пункту (поиск по организации).
+
Если поиск ведется по сотруднику, в результатах будет показан список сотрудников, у которых указано подразделение (в результатах отображается ФИО, должность и подразделение). По двойному щелчку левой клавиши мыши на строке, из результатов поиска выбирается подразделение, в котором записан найденный сотрудник.
+
Если поиск ведется по ИНН организации, в результатах отображается организация с соответствующим строке поиска ИНН. По двойному щелчку левой клавиши мыши в строке результатов поиска или команде _Показать в справочнике_ фокус устанавливается на узле организации в дереве. Однако, ввиду ограничения по выбору, для выбора доступны только подразделения, а не сама организация.

Организация и подразделение::
Режим поиска по умолчанию _Организация/подразделение: название_.
+
При выборе и организации, и подразделения дополнительно появляется только режим поиска _Сотрудник_. Остальные режимы работают без изменений.
+
Если поиск ведется по сотруднику, то в результатах будет показан список сотрудников (ФИО, должность и подразделение/организация). По двойному щелчку левой клавиши мыши на строке из результатов поиска выбирается организация (если сотрудник записан в корне узла организации) или подразделение (если сотрудник записан в подразделение).

== Поиск по представлению справочника

Поиск по представлению предназначен для нахождения текста среди всех выведенных в представление полей справочника.

Будет показано окно _Найти_. Если искомый текст встречается где-то в представлении, то содержащая его строка будет выделена цветом.

.Чтобы выполнить поиск по представлению:
. Перейдите в область представления справочника.
. Правой клавишей мыши вызовите контекстное меню, затем вызовите команду _Найти_, либо воспользуйтесь сочетанием клавиш kbd:[Ctrl + F].
+
.Окно поиска по представлению справочника
image::partner-view-search-window.png[Окно поиска по представлению справочника]
+
. Чтобы изменить направление поиска от выделенной в представлении строки воспользуйтесь переключателем *Вниз* (установлен по умолчанию), или *Вверх*.
+
Если искомый текст встречается в представлении более одного раза, то данное окно поможет перемещаться между всеми найденными совпадениями.
+
. Для выделения в представлении очередной найденной строки, нажмите на кнопку *Найти далее*.
+
Окно поиска при этом останется открытым.
