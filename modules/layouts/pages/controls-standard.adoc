= Описание стандартных элементов управления

В данном разделе приведено описание стандартных элементов управления, которые отображаются на панели инструментов xref:layouts/designer.adoc["Конструктора разметок"].

Каждый элемент управления обладает набором атрибутов для настройки использования его в разметке карточки. Общие для всех элементов атрибуты перечислены в разделе <<common-properties,Общие свойства элементов управления>>. Индивидуальные настройки элементов (при их наличии) включены в разделы с названием элементов управления.

[#common-properties]
== Общие свойства элементов управления

Перечисленные ниже свойства имеются у большинства элементов управления, а некоторые, например, _Имя_ -- у всех.

Свойства категории _Внешний вид_, а также свойства *Видимость*, *Только для чтения* и *Обязательное* настраиваются для каждой разметки. Все остальные свойства имеют одинаковое значение для всех разметок одного типа карточки.

[#common]
=== Общие

[#name]
Имя::
Название элемента. Используется для идентификации свойства карточки в скриптах. Должно быть уникальным для каждого элемента одного типа карточки. При изменении названия свойства автоматически меняется текст метки, но текст метки можно после этого изменить на произвольный и никак не связанный с названием.

[#type]
Тип::
Тип элемента (только для чтения).

[#look]
=== Внешний вид

[#align]
Автовыравнивание метки::
Регулирует выравнивание метки элемента (выравнивать автоматически или нет).
+
* _Своё_ -- использовать для отдельных длинных меток на разметке.
* _По остальным_ -- все метки выравниваются автоматически с учетом их длины.

[#label-visibility]
Видимость метки::
Регулирует отображение метки (показывать/не показывать):
+
* *_Да_* -- текстовая метка отображается.
* *_Нет_* -- текстовая метка скрыта.

[#placement]
Местоположение метки::
Регулирует отображение метки относительно элемента управления. По умолчанию метка расположена слева. Возможные варианты расположения:
+
* *_Слева_*.
* *_Справа_*.
* *_Сверху_*.
* *_Снизу_*.

[#hint]
Подсказка::
Позволяет ввести текст всплывающей подсказки к элементу.

[#show-border]
Показывать границу::
Определяет, будет ли показана граница поля элемента (если это позволяет тип элемента).
+
[NOTE]
====
Значения свойства *Показывать границу* будет применено ко всем разметкам карточки, а не только к настраиваемой разметке.
====

[#border-readonly]
Показывать границу в режиме только для чтения::
Определяет, будет ли показана граница поля элемента (если это позволяет тип свойства) в карточке, открытой только для чтения. Свойство активно всегда, однако применяется только если значение атрибута *Показывать границу* задано как *_True_*.
+
[NOTE]
====
Значения свойства *Показывать границу в режиме только для чтения* будет применено ко всем разметкам карточки, а не только к настраиваемой разметке.
====

[#label]
Текст метки::
Текст метки, отображаемой рядом с элементом управления, по умолчанию -- `Свойство:`.

[#background-color]
Цвет фона::
Позволяет выбрать цвет поля, в котором будет отображаться значение элемента.

[#font-color]
Цвет шрифта::
Определяет цвет шрифта, используемого в элементе управления.

[#label-font-color]
Цвет шрифта метки::
Определяет цвет шрифта, используемого для вывода метки.

[#font]
Шрифт::
Определяет шрифт, используемый в элементе управления.

[#label-font]
Шрифт метки::
Определяет шрифт, используемый для вывода метки.
+
Если изменить цвет шрифта в свойствах, его цвет в области просмотра не изменится. Это связано с тем, что в области просмотра карточка находится в режиме редактирования. При работе с экземплярами настроенных карточек шрифт будет выбранного цвета.

[#behavior]
=== Поведение

[#visibility]
Видимость::
Определяет способ отображения элемента управления:
+
--
* *_Видимый_* -- элемент отображается в разметке карточки. Значение по умолчанию.
* *_Пустая ячейка_* -- элемент не отображается, на месте элемента в карточке будет пустое пространство, соответствующее элементу по размерам.
* *_Невидимый_* -- элемент не отображается, пользователи не будут знать о существовании данного элемента.
--
+
--
.Ограничения:
* Нельзя установить значение *_Невидимый_* для элемента разметки внутри группы, если он является единственным или последним видимым.
* Нельзя переместить из группы единственный (последний) видимый элемент разметки, в которой есть хотя бы один невидимый элемент разметки.
--

[#quick-search-index]
Индекс быстрого поиска::
Определяет количество символов, после ввода которых будет выполнен быстрый поиск подходящих значений в соответствующем справочнике. Значение поля -- целое положительное число. Минимальное значение -- `1`. Значение по умолчанию -- `3`.

[#default]
Значение по умолчанию::
Определяет значение поля, которое будет установлено при создании нового экземпляра карточки. Система будет обрабатывать только корректные значения.
+
****
Для элементов xref:layouts/std-ctrl/date-picker.adoc[Дата], xref:layouts/std-ctrl/date-time.adoc[Дата/Время] и xref:layouts/std-ctrl/time.adoc[Время] значение по умолчанию может быть задано двумя способами:

* Без смещения, опциями *_Сегодня_* или *_Сейчас_*, выбираемыми из раскрывающегося списка поля Значение по умолчанию.
* Со смещением относительно опций *_Сегодня_* или *_Сейчас_*.

[lowerroman]
.Чтобы задать такое значение:
. Выберите из раскрывающегося списка опцию *_Сегодня_* или *_Сейчас_*.
. Вручную введите в поле значение смещения в формате `Сегодня (Сейчас) +/- D(Д)/H(Ч)/M(М)`, где `D(Д)` -- дни, `H(Ч)` -- часы, `M(М)` -- минуты (например, запись `Сегодня+2д-15м` будет интерпретирована как `0.00 часов текущих суток + 2 дня (48 часов)-15 минут`).

Для элементов xref:layouts/std-ctrl/number.adoc[Число] и xref:layouts/std-ctrl/whole-number.adoc[Целое число] по умолчанию используется пустое значение поля. При данной настройке в экземпляре карточки значение поля будет пустым.
****

[#mandatory]
Обязательное::
Определяет, требуется ли заполнение данного поля перед сохранением карточки.
+
* *_Да_* -- сохранение карточки будет невозможно, если соответствующее поле не заполнено. Пользователю будет выдано соответствующее сообщение.

[#tab]
Переходить по TAB::
Определяет пользовательскую последовательность очередности обхода карточки по кнопке kbd:[Tab]. Подробное описание настройки см. в xref:layouts/controls-settings.adoc#tab[этом] пункте.
+
* *_Да_* -- переход по кнопке TAB разрешён.

[#order]
Порядок обхода::
Определяет порядковый номер поля. Подробное описание настройки см. в xref:layouts/controls-settings.adoc#tab[этом] пункте.

[#readonly]
Только для чтения::
Определяет доступность данного элемента для редактирования. Для более гибкой настройки рекомендуется пользоваться настройкой ролевой модели. Данный атрибут позволяет жестко запретить редактирование элемента управления, но им можно воспользоваться, например, из скриптов.

[#data]
=== Данные

Категория _Данные_ содержит атрибуты, используемые для привязки элемента управления к полю в схеме карточки.

По умолчанию значения свойств не заданы, и элемент управления будет работать с разделом _Настраиваемые свойства_, в котором хранятся нетипизированные свойства карточки.

Для карточек с расширенной схемой (имеющей дополнительные разделы/поля, кроме настраиваемых свойств), можно использовать атрибутивный поиск.

[#data-source]
Источник данных::
Определяет раздел карточки, содержащий поле, к которому привязывается элемент управления. После заполнения этого свойства в категории, свойство *Элемент данных* становится доступным для изменения.
+
Можно создать расширенную секцию из поля, выбрать секцию или поле из списка или указать расширенную секцию или поле.

[#edit-operation]
Операция редактирования::
Определяет поведение поля карточки в зависимости от поведения связанной с ним операции. Связанная операция либо создаётся при настройке атрибута, либо выбирается из _Справочника состояний_.
+
После определения операции, поведение (доступ) настраивается в _Конструкторе состояний_ и _Конструкторе ролей_. Для полей, добавленных на разметку системного (или дочернего от системного) вида не рекомендуется указывать операцию редактирования, так как _Ролевая модель_ не обрабатывает системные виды карточек.

[#data-element]
Элемент данных::
Определяет поле карточки, к которому привязывается элемент управления. Можно создать расширенное поле в выбранной секции.

[#link]
Ссылка::
Определяет ссылку, которую использует данный элемент управления.

[#link-field]
Поле ссылки::
Определяет поле, которое будет использоваться для получения значения по ссылке.

[NOTE]
====
Свойства *Ссылка* и *Поле ссылки* используются элементами управления xref:layouts/std-ctrl/textbox.adoc[Строка], xref:layouts/std-ctrl/text.adoc[Текст], xref:layouts/std-ctrl/time.adoc[Время], xref:layouts/std-ctrl/date-picker.adoc[Дата], xref:layouts/std-ctrl/date-time.adoc[Дата/Время], xref:layouts/std-ctrl/yes-no.adoc[Да/Нет], xref:layouts/std-ctrl/whole-number.adoc[Целое число], xref:layouts/std-ctrl/number.adoc[Число].

С помощью свойств можно реализовать, например, следующий сценарий: в ссылке "сотрудник" (с выбором значения из справочника сотрудников) выбрать значение "Иванов И.И.", в поле "Tel" автоматически подставится телефон Иванова, указанный в справочнике сотрудников.

В данном случае *Ссылка* == поле в разметке "выберите сотрудника", а *Поле ссылки* "Местный телефон" -- значение этого поля из справочника сотрудников, которое будет сохраняться в карточке.
====

[#localization]
=== Настройка локализации

Локализованные названия могут быть добавлены для следующих xref:layouts/controls-standard.adoc[общих свойств]:

* <<label,Текст метки>>.
* <<hint,Подсказка>>.
* <<align,Автовыравнивание метки*>>.
* <<placement,Местоположение метки>>.

Добавить локализованные названия свойств можно в окне, открываемом по нажатию на кнопку image:buttons/globe.png[Земной шар] справа от поля.

Для свойств *Текст метки* или *Подсказка* будет открыто окно _Локализация отображаемого значения_.

В поле _Значение по умолчанию_ будет отображаться строка, соответствующая значению локализации свойства, которое используется по умолчанию. Например, если в клиентском приложении выбран язык интерфейса, для которого соответствующей локализации не настроено. При необходимости данное значение можно изменить.

В таблице, расположенной под значением по умолчанию будут отображаться строки, соответствующие xref:layouts/layout-localize.adoc#add-locale[добавленным] локализациям.

По умолчанию строки пустые. Чтобы указать локализованное название, введите текст, который должен соответствовать каждой из локализаций и сохраните изменения нажатием кнопки *ОК*.

.Добавление локализации для свойств "Текст метки" или "Подсказка"
image::localization-tag-text-hint.png[Добавление локализации для свойств "Текст метки" или "Подсказка"]
