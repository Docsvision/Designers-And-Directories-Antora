= Сообщения журнала приложений

В журнале приложений фиксируются события от различных приложений Docsvision. Если установлено несколько приложений, то все они будут хранить свои сообщения в одном журнале. Порядок получения сообщений от разных приложений не регламентирован, запись сообщений производится в порядке поступления.

Данный журнал носит вспомогательный характер, и используется для хранения полного списка полученных сообщений. При работе с системой сообщения данного журнала фиксируются в журналах конкретных приложений. Также определенные наборы сообщений отображаются в специализированных журналах (например, "Журнал" в карточке _Задание_ или  "Журнал подписей" в карточке _Документ_ программа Windows-клиент).

В журнале фиксируются следующие операции:

* Системные карточки
** *Открытие карточки* - открытие системной карточки;
* Базовые объекты:
** *Сотрудник заблокирован* - заполнение периода блокирования сотрудника в _Карточке сотрудника_;
** *Просмотр истории* - просмотр истории на вкладке *История* карточки _Документ_;
** *Создание карточки* - создание карточки в библиотеке базовых объектов;
** *Закрытие карточки* - закрытие карточки в библиотеке базовых объектов;
** *Редактирование* - изменение ранее заполненного значения поля в карточке библиотеки базовых объектов;
** *Просмотр журнал подписей* - просмотр журнала подписей в карточке _Документ_;
** *Сохранение карточки* - сохранение карточки в библиотеке базовых объектов;
** *Просмотр ссылки* - открытие или переход по ссылке, расположенной в элементе разметки *Ссылки* (элемент может располагаться как в карточке _Документ_ так и в карточке _Задание_);
** *Остановка бизнес-процесса* - остановка бизнес-процесса из карточки _Документ_ или _Задание_;
** *Добавление основного файла* - добавление основного файла в элементе *Файлы* карточки _Документ_;
** *Чтение основного файла* - предварительный просмотр или обращение к данным основного файла в карточке _Документ_;
** *Редактирование основного файла* - открытие основного файла из карточки _Документ_ в соответствующем приложении;
** *Длительная блокировка основного файла* - длительная блокировка основного файла карточки _Документ_;
** *Удаление основного файла* - удаление основного файла в элементе *Файлы* карточки _Документ_;
** *Создание новой версии основного файла* - добавление новой версии основного файла на вкладке *Версии* карточки _Документ_;
** *Сохранение изменений в текущую версию основного файла* - сохранение измененного файла без изменения версии  на вкладке *Версии* карточки _Документ_;
** *Смена текущей версии основного файла* - смена номера версии основного файла на вкладке *Версии* карточки _Документ_;
** *Добавление комментария к версии основного файла* - добавление комментария на вкладке *Версии* карточки _Документ_;
** *Удаление старой версии основного файла* - удаление версии основного файла на вкладке *Версии* карточки _Документ_;
** *Добавление дополнительного файла* - добавление основного файла в элементе *Файлы* карточки _Документ_;
** *Чтение дополнительного файла* - предварительный просмотр и обращение к данным дополнительного файла в карточке _Документ_;
** *Удаление дополнительного файла* - удаление основного файла в элементе *Файлы* карточки _Документ_;
** *Подписание документа* - добавление подписи к документу в карточке _Документ_;
** *Отправка документа по электронной почте* - результат выгрузки данных (экспорта) из карточки _Документ_  через диалог *Отправка по электронной почте*;
** *Экспорт документа* - результат выгрузки данных из карточки _Документ_ через диалог *Экспорт*;
** *Печать документа* - результат выгрузки данных из карточки _Документ_ через диалог *Печать*;
** *Назначение категории* - добавление новой категории в _Справочник категорий_;
** *Удаление категории* - удаление категории из _Справочника категорий_;
** *Синхронизация свойств из файла* - заполнение атрибуты карточки _Документ_ на основе свойств приложенного основного файла;
** *Синхронизация свойств в файл* - заполнение свойств приложенного основного файла на основе атрибутов карточки _Документ_;
** *Снятие блокировки файла* - снятие блокировки файла в карточке _Документ_;
** *Отмена блокировки файла* - отмена блокировки файла в карточке _Документ_;
** *Редактирование комментария к файлу* - редактирование комментария к файлу в карточке _Документ_;
** *Удаление комментария к файлу* - удаление комментария к файлу в карточке _Документ_;
** *Отправить* - выполнение операции _Отправить_ в карточке _Задание_;
** *Вернуть на подготовку* - выполнение операции _Вернуть на подготовку_ в карточке _Задание_;
** *Отозвать* - выполнение операции _Отозвать_ в карточке _Задание_;
** *Отклонить* - выполнение операции _Отклонить_ в карточке _Задание_;
** *Отложить* - выполнение операции _Отложить_ в карточке _Задание_;
** *В работу* - выполнение операции _В работу_ в карточке _Задание_;
** *Делегировать* - выполнение операции _Делегировать_ в карточке _Задание_;
** *Отменить делегирование* - выполнение операции _Отменить делегирование_ в карточке _Задание_;
** *Вернуть в "не начато"* - выполнение операции _Вернуть в "не начато"_ в карточке _Задание_;
** *Завершить* - выполнение операции _Завершить_ в карточке _Задание_;
** *Прекратить исполнение* - выполнение операции _Прекратить исполнение_ в карточке _Задание_;
** *Изменение срока исполнения* - изменение сроков исполнения в карточке _Задание_;
** *На доработку* - выполнение операции _На доработку_ в карточке _Задание_;
** *Принять* - выполнение операции _Принять_ в карточке _Задание_;
** *Редактирование автора* - редактирование поля *Автор* в карточке _Задание_;
** *Редактирование содержания* - редактирование поля *Содержание* в карточке _Задание_;
** *Выбор исполнителя* - выбор значения в поле *Исполнитель* в карточке _Задание_;
** *Изменение текущего исполнителя* - редактирование поля *Исполнитель* в карточке _Задание_;
** *Установить важность* - выбор значения поля *Важность* в карточке _Задание_;
** *Ввод новых сроков* - редактирование дат в области Сроки в карточке _Задание_;
** *Редактирование напоминаний* - редактирование полей *Напомнить за, Дата напоминания* в карточке _Задание_;
** *Редактирование параметров контроля* - редактирование полей *Поставить на контроль*, *Требуется приемка*, *Дата контроля*, *Контролер* в карточке _Задание_;
** *Редактирование фактических параметров исполнения* - редактирование полей *Поставить на контроль*, *Требуется приемка*, *Дата контроля*, *Контролер* в карточке _Задание_;
** *Добавление комментария* - добавление любого комментария;
** *Изменение/Удаление любого комментария* - удаление любого ранее добавленного комментария;
** *Изменение/Удаление только собственного комментария* - изменение и удаление любого собственного комментария;
** *Добавление основного документа* - добавление вложенной карточки _Документ_ в карточку _Задание_;
** *Удаление основного документа* - удаление вложенной карточки Документ из карточки _Задание_;
** *Добавление дополнения* - операция приложения _Управление документами_;
** *Удаление дополнения* - операция приложения _Управление документами_;
** *Добавление отчета* - добавление отчета при завершении задания карточки _Задание_;
** *Удаление отчета* - удаление отчета при завершении задания карточки _Задание_;
** *Создание подчиненного задания* - добавление связанного задания в карточку в элементе *Дерево исполнения* карточки _Задание_;
** *Копирование подчиненного задания* - копирование связанного задания в элементе *Дерево исполнения* карточки _Задание_;
** *Удаление подчиненного задания* - удаление связанного задания в элементе *Дерево исполнения* карточки _Задание_;
** *Просмотр комментария задания* - просмотр добавленного комментария из карточки _Задание_;
** *Просмотр всех комментариев задания* - просмотр всех комментариев в карточке _Задание_.

Чтобы настроить журнал приложений, выполните следующие действия:

. В области *Категории* выберите ветку *Настройки журнала* > *Приложение*.
+
При этом в средней части карточки справочника будет отображена область *Приложение*.

В центральной части окна расположено дерево операций, доступных для протоколирования в журнале приложений.

image::Log_applications.png[Настройки сообщений журнала приложений]
. Установите флаги напротив тех операций, которые должны фиксироваться в журнале. Название операции соответствуют действию, выполняемому серверной частью системы Docsvision.
+
По умолчанию в список операций включены блокирование работы сотрудника в системе и открытие карточки. Остальные протоколируемые операции создаются разработчиками приложения в Card Manager (описываются в схеме библиотеки). Допускается расширение стандартного перечня другими операциями, необходимыми пользователям системы.
. Перезапустите IIS и службу StorageServer.
