= Блокировка вида карточек для редактирования

_Конструктор {designer}_ является многопользовательским справочником -- разметки могут параллельно настраивать несколько пользователей, со следующими условиями:

. Пользователи должны настраивать разные виды карточек: {subj} одного вида может одновременно настраивать только один пользователь.
. Пользователь должен заблокировать для редактирования вид карточек, {subj} которого настраивает.

Возможность настройки {designer} есть только у пользователя, заблокировавшего вид для редактирования. Пользователь может заблокировать для редактирования любое количество видов. Если вид не заблокирован или заблокирован другим пользователем, настройки {designer} будут доступны только на чтение.

ifeval::["{designer}" == "разметок"]
[NOTE]
====
_Конструктор разметок_ позволяет изменять настройки элементов управления в разметке незаблокированного или заблокированного другим пользователем вида карточек, но при закрытии сделанные изменения будут утеряны.
====
endif::[]

Вид остается заблокированным до разблокировки, которую может выполнить любой пользователь с правами администратора {dv}. Снятие "чужой" блокировки сопровождается дополнительным предупреждением.

Кроме _Конструктора {designer}_ есть ещё несколько конструкторов, поддерживающих возможность параллельной работы пользователей. Вид карточек, заблокированный в одном из них, будет заблокирован для редактирования и в остальных многопользовательских конструкторах. Аналогичный принцип действует и при разблокировке вида карточек.

[NOTE]
====
Возможность параллельной работы поддерживают: _Конструктор разметок_, _Конструктор состояний_, _Конструктор ролей_ и _Конструктор скриптов_.
====

.Текущее состояние блокировки вида карточек отображается:
* В дереве видов карточек при выборе вида в виде значка "Замок" слева от названия вида:
** image:buttons/locked-green-contour.png[Зелёный замок] -- блокировка установлена текущим пользователем.
** image:buttons/locked-red-contour.png[Красный замок] -- блокировка установлена другим пользователем.
** Значок отсутствует -- вид карточек не заблокирован.
+
.Дерево видов карточек с "чужой" блокировкой вида "На исполнение"
image::card-kind-locked.png[Дерево видов карточек с "чужой" блокировкой вида "На исполнение"]
+
* На ленте _Конструктора {designer}_ в виде значка "Замок" на кнопке блокировки или разблокировки вида карточек:
** image:buttons/locked-green-fill.png[Зелёный замок закрыт] -- блокировка установлена текущим пользователем.
** image:buttons/locked-red-fill.png[Красный замок закрыт] -- блокировка установлена другим пользователем.
+
[NOTE]
====
Наведите курсор мыши на кнопку блокировки или разблокировки вида, чтобы узнать ФИО сотрудника, установившего блокировку.
====
+
** image:buttons/unlocked-blue-fill.png[Синий замок открыт] -- вид карточек не заблокирован.

.Чтобы заблокировать для редактирования выбранный вид карточек:
. Нажмите на ленте на кнопку image:buttons/unlocked-blue-fill.png[Синий замок открыт].
. Подтвердите установку блокировки для редактирования. Значок на кнопке блокировки изменится на image:buttons/locked-green-fill.png[Зелёный замок закрыт]. Разметки вида карточек станут доступны для редактирования. Вид будет заблокирован для редактирования во всех конструкторах, поддерживающих параллельную работу.

.Чтобы снять "свою" блокировку с выбранного вида карточек:
. Закончите изменение настроек данного вида карточек *во всех конструкторах*, поддерживающих параллельную работу, т.к. при снятии блокировки данный вид станет доступен для изменения другим пользователям.
. Нажмите на ленте на кнопку image:buttons/locked-green-fill.png[Зелёный замок закрыт].
. Подтвердите снятие блокировки. Изменения, сделанные в _Конструкторе разметок_, будут сохранены. Значок на кнопке блокировки изменится на image:buttons/unlocked-blue-fill.png[Синий замок открыт]. Вид будет разблокирован во всех конструкторах, поддерживающих параллельную работу.

.Чтобы снять "чужую" блокировку с выбранного вида карточек:
. Убедитесь, что настройки, сделанные другим пользователем, сохранены или сохранение не требуется.
. Нажмите на ленте на кнопку image:buttons/locked-red-fill.png[Красный замок закрыт].
. Подтвердите снятие блокировки. Значок на кнопке блокировки изменится на image:buttons/unlocked-blue-fill.png[Синий замок открыт]. Вид будет разблокирован во всех конструкторах, поддерживающих параллельную работу.
